<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="viewport" content="width=device-width, initial-scale=1" /> 
        <link rel="stylesheet" href="css/workbench.css">
        
        <script src="js/jquery-3.6.1.min.js"></script>
        <script src="js/workbench.js"></script>

        <script src="apps/calculator/scripts.js"></script>
        <link rel="stylesheet" href="apps/calculator/styles.css">

        <title>zeroshift/workbench</title>
    </head>
    <body>
        <div class="wbTaskbar">
            <div class="wbHamburger"></div>
            <div class="wbTitle">
                Workbench
            </div>
            <div class="wbClock">
                00:00
            </div>
        </div>
        <div class="wbDesktop">
            <div class="wbIcon" data-path="software">
                <label>Test</label>
            </div>
        </div>
        <div class="wbSkeleton">

            <div class="wbWindow">
                <div class="wbStatusBar">
                    <label></label>
                    <button class="wbBtn wbBtnClose"></button>
                    <button class="wbBtn wbBtnMax"></button>
                    <button class="wbBtn wbBtnMin"></button>
                </div>
                <div class="wbArea">
                </div>
                <div class="wbDrag"></div>
            </div>
        </div>
    </body>

    <script>
    
        $(function(){
            $(".wbIcon").click(function(){
                alert($(this).data("path"));
            });

            setInterval(function(){
                let d = new Date();
                let h = d.getHours();
                let m = d.getMinutes();
                $(".wbTaskbar>.wbClock").text( ((h<10?"0":"") +h) +":"+((m<10?"0":"") +m));
            },1000);

            let desktop = new wbDesktop($(".wbDesktop"));

            /*let wnd = new wbWindow(desktop).
            setSize(500,200).
            setPosition(100,10).
            build();
            
            wnd.moveToTop();
            wnd.getAreaDOM().load("apps/tableTest.html");

            let wnd2 = new wbWindow(desktop).
                        setTitle("Document").
                        setSize(400,200).
                        setCentered().
                        build();
            wnd2.getAreaDOM().load("apps/document.html");
*/
            let wnd3 = new wbWindow(desktop).
                        setTitle("Calculator").
                        setSize(336,469).
                        setCentered().
                        build();


            wnd3.getAreaDOM().load("apps/calculator/dom.html", function(){
                let dom = wnd3.getAreaDOM().find(".appWrapper");
                let appName = dom.data("app");
                let fn = window[appName];
                if(fn)
                    fn(dom);
            });

        });

      
     
    </script>
</head>

 
